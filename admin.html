<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DRIVE TCG Admin</title>
  <style>
    :root {
      --bg: #050509;
      --bg-elevated: #0f1016;
      --bg-elevated-soft: #151726;
      --border-subtle: rgba(255,255,255,0.06);
      --border-strong: rgba(255,255,255,0.18);
      --accent: #ff6b3a;
      --accent-soft: rgba(255,107,58,0.15);
      --accent-strong: #ff8356;
      --accent-glow: 0 0 18px rgba(255,107,58,0.4);
      --accent-muted: #fcb99d;
      --accent-secondary: #46c2ff;
      --accent-secondary-soft: rgba(70,194,255,0.12);
      --text: #f5f5f7;
      --text-dim: #a5a7b5;
      --text-soft: #7f8190;
      --danger: #f44336;
      --danger-soft: rgba(244,67,54,0.12);
      --success: #4caf50;
      --success-soft: rgba(76,175,80,0.14);
      --warning: #ffb300;
      --warning-soft: rgba(255,179,0,0.18);
      --radius-lg: 18px;
      --radius-xl: 22px;
      --radius-pill: 999px;
      --shadow-soft: 0 22px 45px rgba(0,0,0,0.68);
      --shadow-subtle: 0 12px 28px rgba(0,0,0,0.55);
      --shadow-tiny: 0 4px 14px rgba(0,0,0,0.65);
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.26s ease;
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
      --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: radial-gradient(circle at top, #141628 0, #050509 50%);
      color: var(--text);
      font-family: var(--font-sans);
      -webkit-font-smoothing: antialiased;
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .app-shell {
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 16px clamp(16px, 4vw, 32px);
      max-width: 1440px;
      margin: 0 auto;
    }

    .app-header {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      gap: 16px;
      padding: 12px 18px;
      border-radius: 22px;
      background: linear-gradient(135deg, rgba(15,16,22,0.98), rgba(9,10,14,0.98));
      border: 1px solid rgba(255,255,255,0.06);
      box-shadow: 0 20px 60px rgba(0,0,0,0.85);
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(18px);
    }

    .app-title-block {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .app-title {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .app-title span.drive {
      padding: 2px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: radial-gradient(circle at top left, rgba(255,107,58,0.24), transparent 45%),
                  radial-gradient(circle at bottom right, rgba(70,194,255,0.22), transparent 55%);
      box-shadow: 0 0 18px rgba(255,107,58,0.35);
      font-size: 12px;
      letter-spacing: 0.14em;
    }

    .app-title span.admin {
      font-weight: 500;
      font-size: 18px;
      opacity: 0.9;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }

    .app-subtitle {
      font-size: 12px;
      color: var(--text-soft);
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .app-subtitle strong {
      color: var(--accent-muted);
      font-weight: 600;
    }

    .app-meta {
      display: flex;
      justify-content: center;
    }

    .meta-pills {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.10);
      font-size: 11px;
      color: var(--text-dim);
      white-space: nowrap;
    }

    .pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-secondary));
      box-shadow: 0 0 12px rgba(255,107,58,0.8);
    }

    .pill-key {
      font-family: var(--font-mono);
      font-size: 10px;
      opacity: 0.85;
    }

    .pill-tag {
      font-size: 10px;
      padding: 3px 9px;
      border-radius: 999px;
      background: var(--accent-secondary-soft);
      color: var(--accent-muted);
      border: 1px solid rgba(70,194,255,0.35);
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .pill-warn {
      background: var(--warning-soft);
      border-color: rgba(255,179,0,0.45);
      color: #ffde7a;
    }

    .pill-ok {
      background: var(--success-soft);
      border-color: rgba(76,175,80,0.5);
      color: #c3f7c4;
    }

    .app-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.02);
      color: var(--text);
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      cursor: pointer;
      outline: none;
      transition: background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast);
    }

    .btn:hover {
      background: rgba(255,255,255,0.08);
      box-shadow: 0 0 0 1px rgba(255,255,255,0.04), var(--shadow-tiny);
      transform: translateY(-1px);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 0 0 1px rgba(255,255,255,0.02);
    }

    .btn.primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      border-color: rgba(255,255,255,0.16);
      color: #fff;
      box-shadow: 0 10px 25px rgba(255,107,58,0.55);
    }

    .btn.primary:hover {
      background: linear-gradient(135deg, var(--accent-strong), #ff9a6c);
      box-shadow: 0 12px 30px rgba(255,107,58,0.7);
    }

    .btn.secondary {
      background: rgba(255,255,255,0.03);
      border-color: rgba(255,255,255,0.16);
      color: var(--text-dim);
    }

    .btn.secondary:hover {
      background: rgba(255,255,255,0.08);
      color: var(--text);
    }

    .btn.small {
      padding: 6px 10px;
      font-size: 11px;
    }

    .btn-ghost {
      background: transparent;
      border-color: rgba(255,255,255,0.08);
      color: var(--text-soft);
    }

    .btn-ghost:hover {
      background: rgba(255,255,255,0.06);
      color: var(--text);
    }

    .btn-danger {
      background: var(--danger-soft);
      border-color: rgba(244,67,54,0.45);
      color: #ffc5c0;
    }

    .btn-danger:hover {
      background: rgba(244,67,54,0.22);
      box-shadow: 0 0 0 1px rgba(244,67,54,0.35);
    }

    .btn-icon {
      padding: 6px 8px;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      border-color: transparent;
      background: rgba(255,255,255,0.04);
    }

    .btn-icon span {
      font-size: 15px;
      line-height: 1;
    }

    .app-main {
      display: grid;
      grid-template-columns: minmax(0, 1.65fr) minmax(0, 1.1fr);
      gap: 14px;
      align-items: flex-start;
    }

    @media (max-width: 1100px) {
      .app-header {
        grid-template-columns: 1fr;
        align-items: flex-start;
      }
      .app-main {
        grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.2fr);
      }
    }

    @media (max-width: 900px) {
      .app-main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .panel {
      border-radius: var(--radius-xl);
      background: radial-gradient(circle at top left, rgba(255,255,255,0.05), transparent 50%),
                  radial-gradient(circle at bottom right, rgba(80,81,101,0.3), transparent 55%),
                  linear-gradient(145deg, rgba(11,12,19,0.98), rgba(6,7,11,0.98));
      border: 1px solid rgba(255,255,255,0.06);
      box-shadow: var(--shadow-soft);
      padding: 12px 14px 14px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }

    .panel-subtle {
      background: radial-gradient(circle at top left, rgba(255,255,255,0.03), transparent 60%),
                  linear-gradient(145deg, rgba(9,10,17,0.96), rgba(4,4,8,0.98));
      border-color: rgba(255,255,255,0.04);
      box-shadow: var(--shadow-subtle);
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      padding-bottom: 6px;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }

    .panel-header-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .panel-title {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #f8f8fb;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .panel-title-pill {
      font-size: 10px;
      padding: 3px 9px;
      border-radius: 999px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.12);
      color: var(--text-soft);
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .panel-subtitle {
      font-size: 11px;
      color: var(--text-soft);
    }

    .panel-subtitle strong {
      color: var(--accent-muted);
      font-weight: 600;
    }

    .panel-actions {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .panel-body {
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-size: 13px;
    }

    .nav-tabs {
      display: inline-flex;
      padding: 3px;
      border-radius: 999px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.06);
      box-shadow: 0 10px 24px rgba(0,0,0,0.7);
    }

    .nav-tab {
      position: relative;
      padding: 7px 12px;
      border-radius: 999px;
      border: none;
      background: transparent;
      color: var(--text-soft);
      font-size: 11px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      cursor: pointer;
      transition: color var(--transition-fast), transform var(--transition-fast);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .nav-tab::before {
      content: "";
      position: absolute;
      inset: 3px;
      border-radius: inherit;
      background: radial-gradient(circle at top, rgba(255,255,255,0.05), transparent 55%);
      opacity: 0;
      transition: opacity var(--transition-fast);
      pointer-events: none;
    }

    .nav-tab span.bullet {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(255,255,255,0.18);
    }

    .nav-tab.active {
      color: #fff;
      background: linear-gradient(135deg, rgba(255,255,255,0.09), rgba(255,255,255,0.03));
      box-shadow: 0 0 0 1px rgba(255,255,255,0.08), 0 18px 40px rgba(0,0,0,0.85);
      transform: translateY(-0.5px);
    }

    .nav-tab.active::before {
      opacity: 1;
    }

    .nav-tab.active span.bullet {
      background: linear-gradient(135deg, var(--accent-secondary), var(--accent));
      box-shadow: 0 0 12px rgba(255,107,58,0.9);
    }

    .nav-tab:hover {
      color: #f7f7fd;
    }

    .nav-tab:not(.active):hover span.bullet {
      background: rgba(255,255,255,0.4);
    }

    .form-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.1fr);
      gap: 10px;
      align-items: flex-start;
    }

    @media (max-width: 1100px) {
      .form-layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .field-card {
      background: radial-gradient(circle at top left, rgba(255,255,255,0.04), transparent 55%),
                  linear-gradient(145deg, rgba(16,17,29,0.98), rgba(9,9,16,0.98));
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.07);
      padding: 10px 12px;
      box-shadow: 0 16px 30px rgba(0,0,0,0.85);
      position: relative;
      overflow: hidden;
    }

    .field-card-label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
      margin-bottom: 4px;
    }

    .field-card-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #f7f7fa;
    }

    .field-card-subtitle {
      font-size: 11px;
      color: var(--text-soft);
    }

    .field-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 6px;
      margin-top: 4px;
    }

    .field-grid.single-col {
      grid-template-columns: minmax(0, 1fr);
    }

    @media (max-width: 1000px) {
      .field-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .field-label {
      font-size: 11px;
      color: var(--text-soft);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 4px;
    }

    .field-label span.hint {
      font-size: 10px;
      opacity: 0.7;
      font-family: var(--font-mono);
    }

    .field-required::after {
      content: "•";
      margin-left: 4px;
      color: var(--accent);
      font-size: 10px;
    }

    .input,
    select,
    textarea {
      width: 100%;
      padding: 6px 8px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(4,4,10,0.94);
      color: var(--text);
      font-size: 12px;
      outline: none;
      font-family: var(--font-sans);
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), transform var(--transition-fast);
    }

    select {
      appearance: none;
      background-image:
        linear-gradient(45deg, transparent 50%, rgba(255,255,255,0.8) 50%),
        linear-gradient(135deg, rgba(255,255,255,0.8) 50%, transparent 50%);
      background-position:
        calc(100% - 14px) calc(50% - 3px),
        calc(100% - 10px) calc(50% - 3px);
      background-size: 5px 5px, 5px 5px;
      background-repeat: no-repeat;
      padding-right: 24px;
    }

    textarea {
      min-height: 68px;
      resize: vertical;
      font-family: var(--font-mono);
      font-size: 11px;
      line-height: 1.5;
    }

    .input:focus,
    select:focus,
    textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(255,255,255,0.16), 0 0 18px rgba(255,107,58,0.35);
      background: radial-gradient(circle at top, rgba(255,255,255,0.06), rgba(4,4,10,0.98));
      transform: translateY(-0.5px);
    }

    .input::placeholder,
    textarea::placeholder {
      color: rgba(166,167,184,0.65);
      font-size: 11px;
    }

    .input-mono {
      font-family: var(--font-mono);
      font-size: 11px;
    }

    .tag-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: 2px;
      flex-wrap: wrap;
    }

    .tag-row span.tip {
      font-size: 10px;
      color: var(--text-soft);
      opacity: 0.85;
    }

    .tag-row code {
      font-family: var(--font-mono);
      font-size: 10px;
      background: rgba(255,255,255,0.06);
      border-radius: 999px;
      padding: 1px 7px;
      border: 1px solid rgba(255,255,255,0.1);
      color: #f7f7fa;
    }

    .type-badge {
      font-size: 10px;
      padding: 1px 7px;
      border-radius: 999px;
      background: var(--accent-secondary-soft);
      color: var(--accent-muted);
      border: 1px solid rgba(70,194,255,0.35);
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .preview-card {
      background: radial-gradient(circle at top left, rgba(255,255,255,0.06), transparent 50%),
                  radial-gradient(circle at bottom right, rgba(70,194,255,0.16), transparent 55%),
                  linear-gradient(150deg, rgba(10,11,18,0.98), rgba(4,4,7,0.98));
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.06);
      padding: 10px 12px 12px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.9);
      position: relative;
      overflow: hidden;
      min-height: 180px;
    }

    .preview-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 6px;
    }

    .preview-heading {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .previewName {
      font-size: 15px;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    .previewMeta {
      font-size: 11px;
      color: var(--text-soft);
    }

    .preview-fields {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      font-size: 11px;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      font-size: 10px;
      color: var(--text-dim);
      white-space: nowrap;
    }

    .chip.key {
      background: var(--accent-soft);
      border-color: rgba(255,107,58,0.75);
      color: #ffd2bd;
      font-family: var(--font-mono);
    }

    .chip.mod {
      background: rgba(70,194,255,0.12);
      border-color: rgba(70,194,255,0.45);
      color: #d1efff;
    }

    .chip.type {
      background: rgba(255,255,255,0.08);
    }

    .preview-body {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.5fr);
      gap: 8px;
      align-items: flex-start;
      margin-top: 6px;
    }

    @media (max-width: 1100px) {
      .preview-body {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .preview-art {
      border-radius: 12px;
      background: radial-gradient(circle at top, rgba(255,255,255,0.08), rgba(10,11,16,0.98));
      border: 1px solid rgba(255,255,255,0.16);
      height: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: var(--text-soft);
      position: relative;
      overflow: hidden;
    }

    .preview-art img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .preview-text {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .preview-notes {
      padding: 6px 8px;
      border-radius: 12px;
      background: rgba(10,10,15,0.9);
      border: 1px solid rgba(255,255,255,0.08);
      font-size: 12px;
      min-height: 60px;
      line-height: 1.5;
      white-space: pre-wrap;
      color: var(--text-dim);
    }

    .preview-footer {
      margin-top: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .preview-footer-left {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }

    .preview-footer-right {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
      justify-content: flex-end;
      font-family: var(--font-mono);
    }

    .scroll-column {
      border-radius: 16px;
      background: radial-gradient(circle at top, rgba(255,255,255,0.02), transparent 50%),
                  linear-gradient(145deg, rgba(10,10,17,0.98), rgba(5,5,9,0.98));
      border: 1px solid rgba(255,255,255,0.05);
      box-shadow: 0 16px 32px rgba(0,0,0,0.85);
      padding: 8px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      max-height: 540px;
    }

    .scroll-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
      padding: 0 2px 4px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }

    .scroll-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #f7f7fb;
    }

    .scroll-count {
      font-size: 10px;
      color: var(--text-soft);
      font-family: var(--font-mono);
    }

    .scroll-body {
      flex: 1;
      min-height: 0;
      overflow: hidden;
      border-radius: 10px;
      background: rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.05);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
      position: relative;
    }

    .scroll-inner {
      height: 100%;
      overflow: auto;
      padding: 4px;
      scrollbar-width: thin;
      scrollbar-color: rgba(255,255,255,0.3) rgba(0,0,0,0.4);
    }

    .scroll-inner::-webkit-scrollbar {
      width: 6px;
    }

    .scroll-inner::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.4);
      border-radius: 999px;
    }

    .scroll-inner::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.35);
      border-radius: 999px;
    }

    .input-search {
      border-radius: 999px;
      padding-left: 8px;
      padding-right: 8px;
      font-size: 11px;
      font-family: var(--font-sans);
    }

    .input-search::placeholder {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .library-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 12px;
    }

    .library-item {
      padding: 6px 6px;
      border-radius: 10px;
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.06);
      display: flex;
      flex-direction: column;
      gap: 2px;
      cursor: pointer;
      transition: background var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
    }

    .library-item:hover {
      background: rgba(255,255,255,0.05);
      border-color: rgba(255,255,255,0.14);
      transform: translateY(-0.5px);
      box-shadow: 0 10px 24px rgba(0,0,0,0.75);
    }

    .library-item .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
    }

    .library-item .title {
      font-size: 12px;
      color: #f8f8fb;
      font-weight: 500;
    }

    .library-item .chips {
      display: flex;
      gap: 4px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .library-item .sub {
      font-size: 11px;
      color: var(--text-soft);
      display: flex;
      gap: 4px;
      flex-wrap: wrap;
    }

    .single-footer-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .status-msg {
      font-size: 11px;
      color: var(--accent-muted);
      font-family: var(--font-mono);
    }

    .prints-card {
      margin-top: 6px;
      padding: 6px 8px;
      border-radius: 12px;
      border: 1px dashed rgba(255,255,255,0.15);
      background: linear-gradient(135deg, rgba(0,0,0,0.45), rgba(15,15,25,0.9));
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .prints-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 4px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .prints-body {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-top: 4px;
    }

    .prints-list {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      font-size: 11px;
    }

    .prints-list li {
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      cursor: pointer;
      font-family: var(--font-mono);
      transition: background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
    }

    .prints-list li:hover {
      background: rgba(255,255,255,0.12);
      transform: translateY(-0.5px);
      box-shadow: 0 8px 18px rgba(0,0,0,0.7);
    }

    .prints-row {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.8fr) auto;
      gap: 4px;
      align-items: center;
    }

    @media (max-width: 600px) {
      .prints-row {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .bulk-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
      gap: 10px;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .bulk-layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .bulk-textarea {
      height: 260px;
      font-family: var(--font-mono);
      font-size: 11px;
      line-height: 1.4;
    }

    .bulk-options {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 11px;
      margin-top: 4px;
    }

    .bulk-options label {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      color: var(--text-soft);
    }

    .bulk-preview-box {
      height: 260px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.55);
      padding: 6px 8px;
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--text-dim);
      white-space: pre-wrap;
      overflow: auto;
    }

    .bulk-status {
      font-size: 11px;
      margin-top: 4px;
      color: var(--text-soft);
    }

    .precon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 10px;
      margin-top: 6px;
    }

    .precon-card {
      padding: 8px 9px;
      border-radius: 14px;
      background: radial-gradient(circle at top left, rgba(255,255,255,0.05), transparent 55%),
                  linear-gradient(145deg, rgba(10,11,18,0.97), rgba(5,6,10,0.98));
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 18px 38px rgba(0,0,0,0.85);
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 12px;
    }

    .precon-card h3 {
      margin: 0;
      font-size: 13px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
    }

    .precon-card ul {
      margin: 4px 0 0;
      padding-left: 16px;
      font-size: 11px;
      color: var(--text-dim);
    }

    .precon-card li {
      margin-bottom: 2px;
    }

    .help-section {
      font-size: 12px;
      color: var(--text-soft);
      line-height: 1.6;
    }

    .help-section h3 {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      margin: 0 0 6px;
      color: #f7f7fb;
    }

    .help-section code {
      font-family: var(--font-mono);
      font-size: 11px;
      background: rgba(255,255,255,0.08);
      padding: 1px 5px;
      border-radius: 999px;
    }

    .help-section pre {
      background: rgba(0,0,0,0.65);
      border-radius: 10px;
      padding: 8px;
      font-family: var(--font-mono);
      font-size: 11px;
      overflow: auto;
      border: 1px solid rgba(255,255,255,0.12);
    }

    .help-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.1fr);
      gap: 10px;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .help-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .help-note {
      font-size: 11px;
      color: var(--text-soft);
      border-radius: 12px;
      padding: 6px 8px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, rgba(0,0,0,0.65), rgba(0,0,0,0.95));
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.18s ease-out;
      z-index: 200;
    }

    .modal-backdrop.active {
      pointer-events: auto;
      opacity: 1;
    }

    .modal {
      width: min(360px, 92vw);
      background: radial-gradient(circle at top left, rgba(255,255,255,0.05), transparent 55%),
                  linear-gradient(145deg, #141726, #070814);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.14);
      box-shadow: 0 24px 80px rgba(0,0,0,0.95);
      padding: 12px 14px 10px;
      transform: translateY(6px);
      opacity: 0;
      transition: all 0.18s ease-out;
    }

    .modal-backdrop.active .modal {
      transform: translateY(0);
      opacity: 1;
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
      margin-bottom: 6px;
    }

    .modal-header h3 {
      margin: 0;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #f7f7fb;
    }

    .modal-body {
      font-size: 12px;
      color: var(--text-soft);
      margin-bottom: 8px;
    }

    .modal-footer {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 8px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.14);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-soft);
    }

    .badge-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-secondary));
      box-shadow: 0 0 12px rgba(255,107,58,0.9);
    }

    .label-pill {
      font-size: 9px;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.14);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-soft);
    }

    .label-pill.warn {
      background: var(--warning-soft);
      border-color: rgba(255,179,0,0.6);
      color: #ffe89a;
    }

    .label-pill.info {
      background: rgba(70,194,255,0.14);
      border-color: rgba(70,194,255,0.5);
      color: #d4f0ff;
    }

    .label-pill.ok {
      background: var(--success-soft);
      border-color: rgba(76,175,80,0.6);
      color: #c4f8c6;
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="app-title-block">
        <div class="app-title">
          <span class="drive">DRIVE TCG</span>
          <span class="admin">Admin Toolkit</span>
        </div>
        <div class="app-subtitle">
          Editing <strong>drive-card.json</strong> and <strong>drive-precons.json</strong> directly in your browser.
        </div>
      </div>

      <div class="app-meta">
        <div class="meta-pills">
          <div class="pill">
            <span class="pill-dot"></span>
            <span>Single-file JSON · No server</span>
          </div>
          <div class="pill pill-ok">
            <span>Changes are live in memory</span>
          </div>
          <div class="pill pill-warn">
            <span>Use <strong>Export JSON</strong> to save your edits</span>
          </div>
        </div>
      </div>

      <div class="app-actions">
        <button id="downloadCardsJsonBtn" class="btn secondary small">
          Export Card JSON
        </button>
        <button id="downloadPreconsJsonBtn" class="btn secondary small">
          Export Precon JSON
        </button>
      </div>
    </header>

    <main class="app-main">
      <section class="panel panel-subtle">
        <header class="panel-header">
          <div class="panel-header-main">
            <div class="panel-title">
              <span>Workspace</span>
              <span class="panel-title-pill">Card &amp; Deck Editor</span>
            </div>
            <div class="panel-subtitle">
              Use the tabs to switch between <strong>Single Card</strong>, <strong>Bulk Import</strong>, and <strong>Precon Decks</strong>.
            </div>
          </div>
          <div class="panel-actions">
            <nav class="nav-tabs">
              <button id="navSingleBtn" class="nav-tab active">
                <span class="bullet"></span>
                Single Card
              </button>
              <button id="navBulkBtn" class="nav-tab">
                <span class="bullet"></span>
                Bulk Import
              </button>
              <button id="navPreconsBtn" class="nav-tab">
                <span class="bullet"></span>
                Precons
              </button>
              <button id="navHelpBtn" class="nav-tab">
                <span class="bullet"></span>
                Help
              </button>
            </nav>
          </div>
        </header>

        <div class="panel-body">
          <section id="singleSection" class="section active">
            <div class="form-layout">
              <div class="field-card">
                <div class="field-card-label">
                  <div>
                    <div class="field-card-title">Single Card Editor</div>
                    <div class="field-card-subtitle">
                      Edit the core data for a single card, then export the full <code>drive-card.json</code>.
                    </div>
                  </div>
                  <div class="badge">
                    <span class="badge-dot"></span>
                    <span>Live Preview</span>
                  </div>
                </div>

                <div class="field-grid">
                  <div class="field">
                    <label class="field-label">
                      <span class="field-required">Card Name</span>
                    </label>
                    <input id="cardNameInput" class="input" type="text" placeholder="e.g. LUCKY CHARM, JUNKYARD DOG" />
                  </div>
                  <div class="field">
                    <label class="field-label">
                      <span class="field-required">Card Type</span>
                      <span class="hint">Crew / Driver / Mod / Vehicle / Track / Condition</span>
                    </label>
                    <select id="cardTypeInput" class="input">
                      <option value="Crew">Crew</option>
                      <option value="Driver">Driver</option>
                      <option value="Named Driver">Named Driver</option>
                      <option value="Mod">Mod</option>
                      <option value="Vehicle">Vehicle</option>
                      <option value="Named Vehicle">Named Vehicle</option>
                      <option value="Track">Track</option>
                      <option value="Condition">Condition</option>
                      <option value="Misc">Misc</option>
                    </select>
                  </div>
                  <div class="field">
                    <label class="field-label">
                      <span class="field-required">Set Name</span>
                      <span class="hint">Displayed set, e.g. Set 1, Set 2, etc.</span>
                    </label>
                    <input id="cardSetNameInput" class="input input-mono" type="text" placeholder="e.g. Set 1, Set 2, Father's Day" />
                  </div>
                  <div class="field">
                    <label class="field-label">
                      <span class="field-required">Card Number</span>
                      <span class="hint">Numeric or alphanumeric</span>
                    </label>
                    <input id="cardNumberInput" class="input input-mono" type="text" placeholder="e.g. 001, 02, FD-03" />
                  </div>
                  <div class="field">
                    <label class="field-label">
                      <span>Rarity</span>
                      <span class="hint">Common, Uncommon, Rare, Ultra Rare, etc.</span>
                    </label>
                    <input id="cardRarityInput" class="input" type="text" placeholder="e.g. Common" />
                  </div>
                  <div class="field">
                    <label class="field-label">
                      <span>Image URL</span>
                      <span class="hint">Path or URL to art</span>
                    </label>
                    <input id="cardImageUrlInput" class="input input-mono" type="text" placeholder="e.g. /img/cards/lucky_charm.png" />
                  </div>
                </div>

                <div class="field-grid" style="margin-top: 4px;">
                  <div class="field">
                    <label class="field-label">
                      <span>Vehicle Types</span>
                      <span class="hint">Comma-separated: Drag, Drift, Off-Road, Rally</span>
                    </label>
                    <input id="cardVehicleTypesInput" class="input" type="text" placeholder="e.g. Drag, Drift" />
                    <div class="tag-row">
                      <span class="tip">Used to filter vehicles and synergy for Tracks/Conditions.</span>
                    </div>
                  </div>
                  <div class="field">
                    <label class="field-label">
                      <span>Tags</span>
                      <span class="hint">Comma-separated keywords</span>
                    </label>
                    <input id="cardTagsInput" class="input" type="text" placeholder="e.g. Junkyard, Sponsor, Holiday" />
                    <div class="tag-row">
                      <span class="tip">Searchable tags for deckbuilding and referencing.</span>
                    </div>
                  </div>
                </div>

                <div class="field-grid" style="margin-top: 6px;">
                  <div class="field" data-for-types="Mod">
                    <label class="field-label">
                      <span>Mod Base Part</span>
                      <span class="hint">Mod-only</span>
                    </label>
                    <input id="modBasePartInput" class="input input-mono" type="text" placeholder="Headers, Engine, Brakes" />
                    <div class="field-grid" style="margin-top: 4px; grid-template-columns: repeat(4,minmax(0,1fr)); gap: 4px;">
                      <div class="field">
                        <label class="field-label"><span>Lvl 1</span></label>
                        <input id="modL1Input" class="input input-mono" type="text" placeholder="e.g. 1/2" />
                      </div>
                      <div class="field">
                        <label class="field-label"><span>Lvl 2</span></label>
                        <input id="modL2Input" class="input input-mono" type="text" placeholder="2/2" />
                      </div>
                      <div class="field">
                        <label class="field-label"><span>Lvl 3</span></label>
                        <input id="modL3Input" class="input input-mono" type="text" placeholder="3/3" />
                      </div>
                      <div class="field">
                        <label class="field-label"><span>Lvl 4</span></label>
                        <input id="modL4Input" class="input input-mono" type="text" placeholder="5/3" />
                      </div>
                    </div>
                  </div>

                  <div class="field" data-for-types="Vehicle,Named Vehicle">
                    <label class="field-label">
                      <span>Vehicle Stats</span>
                      <span class="hint">Vehicle-only</span>
                    </label>
                    <div class="field-grid" style="grid-template-columns: minmax(0,1.1fr) minmax(0,0.9fr); gap: 4px;">
                      <div class="field">
                        <label class="field-label">
                          <span>HP / CON</span>
                          <span class="hint">e.g. 3/2</span>
                        </label>
                        <input id="vehicleHpConInput" class="input input-mono" type="text" placeholder="HP/CON" />
                      </div>
                      <div class="field">
                        <label class="field-label">
                          <span>Pit Cost</span>
                          <span class="hint">Numeric</span>
                        </label>
                        <input id="vehiclePitCostInput" class="input input-mono" type="number" min="0" step="1" placeholder="e.g. 2" />
                      </div>
                    </div>
                    <div class="tag-row">
                      <span class="tip">HP/CON and Pit Cost are only relevant for Vehicles.</span>
                    </div>
                  </div>
                </div>

                <div class="field" style="margin-top: 6px;">
                  <label class="field-label">
                    <span>Card Notes / Rules Text</span>
                    <span class="hint">Use full rules text; preview appears on the right.</span>
                  </label>
                  <textarea id="cardNotesInput" class="input bulk-textarea" style="height: 120px;" placeholder="Enter the card's full rules text, flavor, or reminder text here."></textarea>
                </div>

                <div class="prints-card">
                  <div class="prints-header">
                    <span>Prints (Set / Number pairs)</span>
                    <div style="display:flex;align-items:center;gap:4px;">
                      <span class="label-pill info">FIRST print is primary by default</span>
                    </div>
                  </div>
                  <div class="prints-body">
                    <div class="prints-row">
                      <select id="printSetSelect" class="input">
                        <option value="">(use card Set Name)</option>
                        <option value="Set 1">Set 1</option>
                        <option value="Set 2">Set 2</option>
                        <option value="Set 3">Set 3</option>
                        <option value="Set 4">Set 4</option>
                        <option value="Set 5">Set 5</option>
                        <option value="Set 6">Set 6</option>
                        <option value="Father's Day Mini Set">Father's Day Mini Set</option>
                        <option value="CUSTOM">Custom...</option>
                      </select>
                      <input id="printCustomSetInput" class="input input-mono" type="text" placeholder="Custom set name (if CUSTOM selected)" />
                      <input id="printCardNumberInput" class="input input-mono" type="text" placeholder="Card Number (e.g. 001)" />
                    </div>
                    <div style="display:flex;align-items:center;justify-content:space-between;gap:6px;margin-top:4px;">
                      <div style="display:flex;align-items:center;gap:6px;">
                        <button id="printSetPrimaryBtn" class="btn small secondary" type="button">Set last as primary</button>
                        <button id="printClearAllBtn" class="btn small btn-ghost" type="button">Clear all prints</button>
                      </div>
                      <span style="font-size:10px;color:var(--text-soft);">Click a pill below to remove that print.</span>
                    </div>
                    <ul id="printsList" class="prints-list"></ul>
                  </div>
                </div>

                <input id="cardIdInput" type="hidden" />
                <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;margin-top:6px;">
                  <div style="display:flex;gap:6px;flex-wrap:wrap;">
                    <button id="singleSaveBtn" class="btn primary small" type="button">
                      Save / Update Card
                    </button>
                    <button id="singleNewBtn" class="btn secondary small" type="button">
                      New Card
                    </button>
                    <button id="singleDeleteBtn" class="btn small btn-danger" type="button">
                      Delete Card
                    </button>
                  </div>
                  <button id="downloadCardsJsonBtn_single" class="btn btn-ghost small" type="button">
                    Export JSON
                  </button>
                </div>

                <div class="single-footer-row">
                  <div id="singleStatus" class="status-msg">Ready.</div>
                  <div class="label-pill info">Remember to export JSON to persist your edits.</div>
                </div>
              </div>

              <div class="preview-card">
                <div class="preview-header">
                  <div class="preview-heading">
                    <div class="previewName" id="previewName">Untitled Card</div>
                    <div class="previewMeta">
                      <span id="previewType" class="type-badge">Type ?</span>
                      <span id="previewSet">Set ?</span>
                      <span>•</span>
                      <span id="previewNumber">###</span>
                      <span>•</span>
                      <span id="previewRarity">Common</span>
                    </div>
                  </div>
                  <div class="preview-fields" id="previewChips">
                  </div>
                </div>
                <div class="preview-body">
                  <div class="preview-art">
                    <div id="previewArtPlaceholder">No image URL set. This area will show your card art.</div>
                  </div>
                  <div class="preview-text">
                    <div class="preview-notes" id="previewNotes">
                      Card notes and rules text will appear here.
                    </div>
                    <div class="preview-footer">
                      <div class="preview-footer-left">
                        <span class="label-pill">Preview only</span>
                        <span>Values are derived from your inputs.</span>
                      </div>
                      <div class="preview-footer-right" id="previewStats">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="scroll-column" style="margin-top:10px;">
              <div class="scroll-header">
                <div>
                  <div class="scroll-title">Card Library</div>
                  <div class="scroll-count" id="libraryCount">0 cards</div>
                </div>
                <div style="display:flex;align-items:center;gap:6px;">
                  <input id="cardLibrarySearchInput" class="input input-search" type="text" placeholder="Filter by name / type / tags" />
                </div>
              </div>
              <div class="scroll-body">
                <div class="scroll-inner">
                  <ul id="cardLibraryList" class="library-list"></ul>
                </div>
              </div>
            </div>
          </section>

          <section id="bulkSection" class="section">
            <div class="bulk-layout">
              <div class="field-card">
                <div class="field-card-label">
                  <div>
                    <div class="field-card-title">Bulk Text Import</div>
                    <div class="field-card-subtitle">
                      Paste CSV/TSV here to create or update multiple cards at once.
                    </div>
                  </div>
                  <div class="badge">
                    <span class="badge-dot"></span>
                    <span>Header-aware</span>
                  </div>
                </div>

                <textarea id="bulkInput" class="input bulk-textarea" placeholder="Paste rows here. Example:

Name,Type,Set,CardNumber,Rarity,VehicleType,Tags,ImageUrl,Notes
LUCKY CHARM,Crew,Set 1,001,Common,,Charm,&#x2F;img&#x2F;cards&#x2F;lucky_charm.png,Basic starter charm
"></textarea>

                <div class="bulk-options">
                  <label>
                    <span>Delimiter:</span>
                    <select id="bulkDelimiterSelect" class="input input-mono" style="width:auto;">
                      <option value="auto">Auto-detect</option>
                      <option value="comma">Comma (,)</option>
                      <option value="tab">Tab (↹)</option>
                      <option value="semicolon">Semicolon (;)</option>
                      <option value="pipe">Pipe (|)</option>
                    </select>
                  </label>
                  <label>
                    <input id="bulkHasHeaderCheckbox" type="checkbox" checked />
                    <span>First row is header</span>
                  </label>
                  <span class="label-pill info">Column names are loosely matched (case &amp; spacing ignored).</span>
                </div>

                <div style="display:flex;align-items:center;gap:6px;margin-top:6px;">
                  <button id="bulkParseBtn" class="btn primary small" type="button">
                    Parse Text
                  </button>
                  <button id="bulkImportBtn" class="btn secondary small" type="button">
                    Import Parsed Cards
                  </button>
                </div>
                <div id="bulkStatus" class="bulk-status">Waiting for data…</div>
              </div>

              <div class="field-card">
                <div class="field-card-label">
                  <div>
                    <div class="field-card-title">Bulk Preview</div>
                    <div class="field-card-subtitle">
                      Shows a summary of parsed rows before they are merged into the library.
                    </div>
                  </div>
                  <div class="label-pill warn">Cards are not saved until you import.</div>
                </div>
                <div id="bulkPreview" class="bulk-preview-box"></div>
              </div>
            </div>
          </section>

          <section id="preconsSection" class="section">
            <div class="field-card">
              <div class="field-card-label">
                <div>
                  <div class="field-card-title">Preconstructed Decks</div>
                  <div class="field-card-subtitle">
                    Read-only view of <code>drive-precons.json</code>. Use your editor for heavy changes, or export to update.
                  </div>
                </div>
                <div class="badge">
                  <span class="badge-dot"></span>
                  <span>JSON-backed</span>
                </div>
              </div>
              <div id="preconGrid" class="precon-grid"></div>
              <div id="preconsStatus" class="bulk-status" style="margin-top:6px;">
                Loading precons…
              </div>
            </div>
          </section>

          <section id="helpSection" class="section">
            <div class="help-grid">
              <div class="field-card">
                <div class="field-card-label">
                  <div>
                    <div class="field-card-title">How This Admin Works</div>
                    <div class="field-card-subtitle">
                      This panel manipulates in-memory data for <code>drive-card.json</code> and <code>drive-precons.json</code>.
                    </div>
                  </div>
                  <div class="badge">
                    <span class="badge-dot"></span>
                    <span>DRIVE TCG internal tool</span>
                  </div>
                </div>
                <div class="help-section">
                  <h3>Single Card Editor</h3>
                  <p>
                    The Single Card tab lets you edit one card at a time. The preview on the right updates as you type.
                  </p>
                  <ul>
                    <li><strong>Save / Update Card</strong> will add or update the card in the in-memory library.</li>
                    <li><strong>New Card</strong> clears the form so you can create a fresh entry.</li>
                    <li><strong>Delete Card</strong> removes the selected card from the library.</li>
                  </ul>
                  <p>
                    Use the <strong>Card Library</strong> list below the editor to filter and select existing cards.
                    Click any card to load it into the editor for changes.
                  </p>

                  <h3>Bulk Import</h3>
                  <p>
                    The Bulk tab supports pasting CSV/TSV-like data. It respects headers loosely (ignoring case, spacing, etc.).
                  </p>
                  <p>
                    Basic example:
                  </p>
                  <pre><code>Name,Type,Set,CardNumber,Rarity,VehicleType,Tags,ImageUrl,Notes
LUCKY CHARM,Crew,Set 1,001,Common,,Charm,/img/cards/lucky_charm.png,Basic starter charm
</code></pre>
                  <p>
                    After parsing, the preview shows a summary. When you click <strong>Import Parsed Cards</strong>, these cards are
                    merged with the in-memory library.
                  </p>

                  <h3>Preconstructed Decks</h3>
                  <p>
                    The Precons tab reads from <code>drive-precons.json</code>. It’s currently a read-only summary:
                  </p>
                  <ul>
                    <li>Deck name and description.</li>
                    <li>List of card IDs plus counts, resolved against the current card library when possible.</li>
                  </ul>
                  <p>
                    Use your code editor to change the JSON, then refresh this page, or export a new JSON from here using the
                    <strong>Export Precon JSON</strong> button.
                  </p>
                </div>
              </div>

              <div class="field-card">
                <div class="field-card-label">
                  <div>
                    <div class="field-card-title">JSON Structure</div>
                    <div class="field-card-subtitle">
                      Reference for the shape of <code>drive-card.json</code> and <code>drive-precons.json</code>.
                    </div>
                  </div>
                  <div class="label-pill info">Kept in sync with the admin logic.</div>
                </div>
                <div class="help-section">
                  <h3>Card JSON</h3>
                  <pre><code>[
  {
    "id": "card_xxx",
    "name": "LUCKY CHARM",
    "type": "Crew",
    "setName": "Set 1",
    "cardNumber": "001",
    "rarity": "Common",
    "vehicleTypes": [],
    "tags": ["Charm"],
    "imageUrl": "/img/cards/lucky_charm.png",
    "notes": "Rules text goes here.",
    "extra": {
      "modBasePart": "Headers",
      "modLevel1": "1/2",
      "modLevel2": "2/2",
      "modLevel3": "3/3",
      "modLevel4": "5/3"
    },
    "prints": [
      { "setId": "Set 1", "cardNumber": "001" }
    ]
  }
]</code></pre>

                  <h3>Precon JSON</h3>
                  <pre><code>[
  {
    "id": "precon_junkyard_intro",
    "name": "Junkyard Intro",
    "description": "A starter precon built around Ray's junkyard vehicles.",
    "cards": [
      { "cardId": "card_lucky_charm", "count": 2 },
      { "cardId": "card_junkyard_dog", "count": 3 }
    ]
  }
]</code></pre>

                  <div class="help-note">
                    <strong>Tip:</strong>
                    Whenever you change card IDs in <code>drive-card.json</code>, make sure to update references in
                    <code>drive-precons.json</code> so precon summaries stay accurate.
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </section>

      <div class="panel panel-subtle">
        <header class="panel-header">
          <div class="panel-header-main">
            <div class="panel-title">
              <span>Local Backup &amp; Tools</span>
              <span class="panel-title-pill">Safe Editing</span>
            </div>
            <div class="panel-subtitle">
              The admin will try to load <strong>drive-card.json</strong> &amp; <strong>drive-precons.json</strong>, and fall back to
              <strong>localStorage</strong> backups if needed.
            </div>
          </div>
          <div class="panel-actions">
            <span class="label-pill ok">Auto-load from JSON when possible</span>
          </div>
        </header>
        <div class="panel-body">
          <div class="help-note">
            <strong>Workflow suggestion:</strong>
            <ol style="margin:4px 0 0;padding-left:18px;font-size:11px;">
              <li>Open this admin and let it load <code>drive-card.json</code> and <code>drive-precons.json</code>.</li>
              <li>Use <strong>Single</strong> and <strong>Bulk</strong> tabs to edit or create cards.</li>
              <li>Check precons under <strong>Precons</strong> to verify deck contents are correct.</li>
              <li>Click <strong>Export Card JSON</strong> and <strong>Export Precon JSON</strong> to download updated files.</li>
              <li>Replace the JSON files in your repo with the exported ones and commit.</li>
            </ol>
          </div>
        </div>
      </div>
    </main>
  </div>

  <div id="modalBackdrop" class="modal-backdrop">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle">Confirm</h3>
        <span class="label-pill warn">Dangerous</span>
      </div>
      <div id="modalBody" class="modal-body">
        Are you sure?
      </div>
      <div class="modal-footer">
        <button id="modalCancelBtn" class="btn small btn-ghost" type="button">Cancel</button>
        <button id="modalConfirmBtn" class="btn small btn-danger" type="button">Confirm</button>
      </div>
    </div>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
